<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Bolsas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f7f7f7;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 400px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .btn {
            margin-top: 20px;
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #218838;
        }
        .results {
            display: none;
            margin-top: 20px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
        button.print-btn {
            margin-top: 10px;
            background-color: #007bff;
            border: none;
            color: white;
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Calculadora de Bolsas</h1>
    <form id="calcForm">
        <label for="nombrecliente">Nombre Cliente (Opcional):</label>
        <input type="text" id="nombrecliente" name="nombrecliente">

        <label for="ancho">Ancho (cm):</label>
        <input type="number" id="ancho" name="ancho" min="20" max="140" required>

        <label for="largo">Largo (cm):</label>
        <input type="number" id="largo" name="largo" min="30" max="160" required>

        <label for="espesor">Espesor (micrones):</label>
        <input type="number" id="espesor" name="espesor" step="0.001" min="0.015" max="0.100" required>

        <label for="densidad">Densidad:</label>
        <select id="densidad" name="densidad">
            <option value="0.093">Baja Densidad (0.093)</option>
            <option value="0.095">Alta Densidad (0.095)</option>
        </select>

        <label for="cantidad">Cantidad (Unidades o Kilos):</label>
        <input type="number" id="cantidad" name="cantidad" required>

        <label for="unidadTipo">Tipo de Cantidad:</label>
        <select id="unidadTipo" name="unidadTipo">
            <option value="unidades">Unidades</option>
            <option value="kilos">Kilos</option>
        </select>

        <button type="button" class="btn" onclick="calcular()">Calcular</button>
    </form>

    <div id="resultados" class="results">
        <h2>Especificaciones de Extrusión</h2>
        <p id="extrusion"></p>

        <h2>Especificaciones de Sellado</h2>
        <p id="sellado"></p>

        <button class="print-btn" onclick="window.print()">Imprimir</button>
    </div>
</div>

<script>
function calcular() {
    const cliente = document.getElementById("nombrecliente").value || "Cliente";
    const ancho = parseFloat(document.getElementById("ancho").value);
    const largo = parseFloat(document.getElementById("largo").value);
    const espesor = parseFloat(document.getElementById("espesor").value);
    const densidad = parseFloat(document.getElementById("densidad").value);
    const cantidad = parseFloat(document.getElementById("cantidad").value);
    const unidadTipo = document.getElementById("unidadTipo").value;

    const pu = ancho * largo * espesor * densidad * 2;
    const pm = ancho * 100 * espesor * densidad * 2;
    const us = Math.floor((20000 / pu) / 10) * 10;
    const ps = us * pu / 1000;
    const f = (ancho <= 99) ? "--" : 20;
    const op = (ancho <= 99) ? ancho : ancho - 40;
    const kge = (unidadTipo === "unidades") ? pu * cantidad / 1000 : cantidad;
    const sa = (unidadTipo === "unidades") ? cantidad / us : cantidad / ps;

    const medidaExtrusion = `${cliente} ${ancho} x ${espesor}`;
    const medidaSellado = `${cliente} ${ancho} x ${largo} x ${espesor}`;

    document.getElementById("extrusion").innerHTML = `
        Medida: ${medidaExtrusion}<br>
        Ancho: ${ancho} cm<br>
        Espesor: ${espesor} micrones<br>
        Fuelles: ${f}<br>
        Ancho óptico: ${op} cm<br>
        Peso metro: ${pm.toFixed(2)} g<br>
        Kilos Extrusión: ${kge.toFixed(2)} kg
    `;

    document.getElementById("sellado").innerHTML = `
        Medida: ${medidaSellado}<br>
        Unidades al saco: ${us}<br>
        Paquetes al saco: ${(us / 10)}<br>
        Peso bolsa: ${pu.toFixed(2)} g<br>
        Peso paquete: ${(pu * 10).toFixed(2)} g<br>
        Peso saco: ${ps.toFixed(2)} kg<br>
        Sacos Aproximados: ${sa.toFixed(2)}
    `;

    document.getElementById("resultados").style.display = "block";
}
</script>

</body>
</html>
